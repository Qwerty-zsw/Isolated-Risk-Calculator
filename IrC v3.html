<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Isolated Risk Calculator</title>
    <style>
      body {
        background: #1d1f22;
        color: #e0e0e0;
        font-family: "Segoe UI", sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
        box-sizing: border-box;
      }
      .box,
      .result {
        display: flex;
        flex-direction: column;
        background: #282c34;
        border-radius: 15px;
        padding: 16px;
        margin: 12px;
        text-align: center;
        font-weight: bold;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }
      input,
      .result {
        border: none;
        outline: none;
        font-size: 16px;
      }
      input {
        margin-top: 8px;
        background: #333;
        color: white;
        padding: 12px;
        border-radius: 12px;
        text-align: center;
        transition: background-color 0.3s ease;
      }
      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input:focus {
        background: #444;
      }
      .flex-row {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 12px;
        flex-wrap: wrap;
      }
      .risk-btn {
        display: flex;
        justify-content: center;
        align-items: center;
        background: #444;
        color: white;
        border-radius: 10px;
        width: 80px !important;
        height: 60px !important;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.3s ease;
      }
      .risk-btn:hover {
        background: #666;
      }
      .small-btn {
        width: 38%;
        padding: 14px 22px;
        background: #003662;
        border: none;
        color: white;
        border-radius: 15px;
        cursor: pointer;
        font-weight: bold;
        transition: background 0.3s ease;
      }
      .small-btn:hover {
        background: #003057;
      }
      .result {
        text-align: center;
        width: 50%;
        height: 100%;
        background: #333;
        padding: 16px;
        padding-top: 0 !important;
        overflow-y: auto;
        border-radius: 12px;
      }
      .result h3 {
        color: #76c7c0;
        font-size: 1.2em;
      }
      .cntr {
        width: 100%;
        display: flex;
        justify-content: center;
      }
      .main {
        margin-top: 7%;
        width: 50%;
      }
      .trknum {
        display: flex;
      }
      .tm {
        width: 13%;
      }
      .lvg {
        width: 7%;
      }
      .better {
        padding-bottom: 24.5px;
      }
      .asd {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }
      .mrg {
        margin-top: 13px;
      }
    </style>
  </head>
  <body>
    <div class="main">
      <div class="asd">
        <div class="tmlvg cntr">
          <div class="box lvg">
            Leverage
            <input id="leverage" type="number" value="10" />
          </div>
          <div class="box tm">
            All Money
            <input id="capital" type="number" />
          </div>
        </div>
        <div class="tmlvg cntr">
          <div class="box tm" style="background-color: rgb(35, 42, 55)">
            Total Risk
            <input id="risk" type="number" />
          </div>
          <div class="box tm">
            SL
            <input id="stop" type="number" value="" />
          </div>
        </div>
      </div>

      <div class="trknum cntr">
        <div class="flex-row">
          <div class="risk-btn" onclick="setRisk(0.25)">.25</div>
          <div class="risk-btn" onclick="setRisk(0.5)">.5</div>
          <div class="risk-btn" onclick="setRisk(0.75)">.75</div>
          <div class="risk-btn" onclick="setRisk(1)">1</div>
        </div>
      </div>

      <div class="trknum cntr mrg">
        <button class="small-btn" onclick="clearStop()">C</button>
      </div>

      <div class="cntr">
        <div class="result" id="result">
          <h3 class="better">Result</h3>
          <br /><br /><br /><br /><br /><br />
        </div>
      </div>
    </div>

    <script>
      const inputs = {
        leverage: document.getElementById("leverage"),
        capital: document.getElementById("capital"),
        risk: document.getElementById("risk"),
        stop: document.getElementById("stop"),
      };
      const resultBox = document.getElementById("result");

      function setRisk(val) {
        if (inputs.risk.value != val) {
          inputs.risk.value = val;
          calculate();
        }
      }

      function clearStop() {
        if (inputs.stop.value !== "") {
          inputs.stop.value = "";
          calculate();
        }
      }

      function formatNumber(num) {
        return num.toLocaleString(undefined, {
          minimumFractionDigits: 2,
          maximumFractionDigits: 2,
        });
      }

      function calculate() {
        const capital = parseFloat(inputs.capital.value);
        const risk = parseFloat(inputs.risk.value);
        const stop = parseFloat(inputs.stop.value);
        const leverage = parseFloat(inputs.leverage.value);

        if ([capital, risk, stop, leverage].some(isNaN)) {
          resultBox.innerHTML = `<h3 class="better" style="color:pink;">‚ùå No Number</h3><br><br><br><br><br><br>`;
          return;
        }

        const risk_amount = capital * (risk / 100);
        const position_size = risk_amount / (stop / 100);
        const leveraged = position_size / leverage;

        resultBox.innerHTML = `
  <h3>üìä Result</h3>
  üí∞ Total Money: $${formatNumber(capital)}<br>
  ‚ö†Ô∏è Total Risk: ${formatNumber(risk)}% ‚Üí $${formatNumber(risk_amount)}<br>
  üí∑ Stop Loss: ${formatNumber(stop)}%<br>
  ‚öôÔ∏è Leverage: x${leverage}<br>
  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
  üíµ NO Leverage: $${formatNumber(position_size)}<br>
  üöÄ YES Leverage: $${formatNumber(leveraged)}
`;
      }

      Object.keys(inputs).forEach((key) => {
        inputs[key].addEventListener("input", calculate);
      });

      function formatNumber(num) {
        if (Number.isInteger(num)) {
          return num.toString();
        }
        return num.toFixed(2);
      }
    </script>
  </body>
</html>
